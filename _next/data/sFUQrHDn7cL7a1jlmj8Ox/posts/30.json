{"pageProps":{"postData":{"id":"30","title":"remark md转html丢class的问题","tags":["remark","nextjs"],"date":"2022-12-25","image":"/boboan.github.io/posts/30/1.png","abstract":"之前用 next 生成的示例博客项目，使用的 remark 将 md 转换为 html 的，之前用了一个 prismjs 渲染 code 代码块，最近突然发现这个过程出问题了。","contentHtml":"<p>之前用 next 生成的示例博客项目，使用的 remark 将 md 转换为 html 的，之前用了一个 prismjs 渲染 code 代码块，最近突然发现这个过程出问题了。</p>\n<p>code 的 class 加不上了，prism 的样式失效了。我去翻了下代码，发现他在清洗标签属性的时候给删掉了。</p>\n<p><img src=\"/boboan.github.io/posts/30/1.png\"></p>\n<p>看样子是 clean 控制的 options.sanitize 我看了是要传入一个 schema 对象，可能是为了防止注入一些恶意代码进行了一些属性删除的操作，不过 md 应该用不到，html 的 setting 的 sanitize 直接传false就可以了</p>\n<pre><code class=\"language-js\">const processedContent = await remark()\n        .use(html, {\n            sanitize: false\n        })\n        .process(matterResult.content)\n</code></pre>\n"},"allTags":["nextjs","remark","typescript","taro","webpack","loader","小程序插件","javascript","react","extention","github page","screeps","nodejs","闲的","canvas","promise","vue","Parcel","eggjs","extension"]},"__N_SSG":true}