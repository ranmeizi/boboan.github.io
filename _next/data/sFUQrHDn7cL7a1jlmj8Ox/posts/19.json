{"pageProps":{"postData":{"id":"19","title":"[screeps]room扩张 简单的开房攻略","tags":["screeps"],"date":"2021-04-06","image":"/boboan.github.io/posts/19/1.png","abstract":"每升1级global contriller level（gcl）就可以多控制一个房间，多控制房间采集energy给controller又能加速gcl升级的速率。 并且开房稳赚不赔，你想，开1个房2个source的能量，不比开个外矿或者提高energy转化率来的实在，只需要调整一下room,role部分的代码开的新房间还适用。 下面给大家一个简单的开房攻略，我们的目的是开新房快乐种田，不和人打架，所以不选择有人的房间扩张。","contentHtml":"<p><img src=\"/boboan.github.io/posts/19/1.png\"></p>\n<p>每升1级global contriller level（gcl）就可以多控制一个房间，多控制房间采集energy给controller又能加速gcl升级的速率。\n并且开房稳赚不赔，你想，开1个房2个source的能量，不比开个外矿或者提高energy转化率来的实在，只需要调整一下room,role部分的代码开的新房间还适用。\n下面给大家一个简单的开房攻略，我们的目的是开新房快乐种田，不和人打架，所以不选择有人的房间扩张。</p>\n<h2>看文档</h2>\n<p>先看看扩张需要的api都有什么</p>\n<h2>creep的行为</h2>\n<ol>\n<li><a href=\"https://screeps-cn.github.io/api/#Creep.claimController\">claimController</a></li>\n</ol>\n<blockquote>\n<p>占领一个中立的房间。需要 <code>CLAIM</code> 身体部件。目标必须与 creep 相邻。你需要有对应的全局控制等级(Global Control Level)才能占领新的房间。如果你没有足够的 GCL。请考虑 <a href=\"https://screeps-cn.github.io/api/#reserveController\">预定(reserving)</a> 该房间。<a href=\"https://screeps-cn.github.io/control.html#Global-Control-Level\">点击了解更多</a></p>\n</blockquote>\n<p>claimController用来<strong>占领房间</strong>，claimController的目标是0级没有owner，没有reserve预定的controller，如果满足这些条件，就可以派一个claimer戳一下controller，这个房间就是你的了。\n2. <a href=\"https://screeps-cn.github.io/api/#Creep.attackController\">attackController</a></p>\n<blockquote>\n<p>攻击时，每个 CLAIM 身体部件都能使得房间控制器的降级计时器降低 300 tick，或者将预定计时器降低 1 tick。如果受到攻击的控制器已经有所属者，则接下来的 1000 tick 将无法升级(upgrade)或再次进行攻击。目标必须与 creep 相邻。</p>\n</blockquote>\n<p>如果房间内controller等级不是0级，attackController可以<strong>加快降级速度</strong>\n如果房间内controller被预定，attackController可以<strong>减少预定时间</strong>，预定时间0了之后，就可以claimController宣布这个房间是你的了\n3. <a href=\"https://screeps-cn.github.io/api/#Creep.dismantle\">dismantle</a></p>\n<blockquote>\n<p>拆解任意可以建造的建筑（即使是敌人的）并且返回 50% 其修理所花的能量。需要 WORK 身体部件。如果 creep 有空余的 CARRY 身体部件，则会直接将能量转移进去；否则能量将掉落在地上。目标必须与 creep 相邻。</p>\n</blockquote>\n<p>dismantle用来<strong>拆敌人的spawn</strong>，attack也能打spawn，不过既然有用来harvest和build的WORK部件，用dismantle更好一些，还能获得一些能量。\n4. attack\n可以attack InvaderCore或者敌人的spawn\n5. harvest/build\n这个大家都懂\n在占领controller拿到房间控制权后，需要在房间内建造spawn房间才能运作起来，所以这里需要一个harverster和builder合体功能的creep帮你建造spawn</p>\n<p>把这些行为最简单的分为2个role去搞定他，实现这些动作需要<code>WORK</code>、<code>ATTACK</code> 、<code>CARRY</code>、<code>MOVE</code>、<code>CLAIM</code>，因为带有<code>CLAIM</code>部件的creep寿命只有600tick，单独用一个creep当作claimer，剩下的动作由一个WORK,ATTACK,CARRY的多功能creep完成</p>\n<h2>可能遇到的事件</h2>\n<h3>controller</h3>\n<ol>\n<li>0级controller 公共房间\n<img src=\"/boboan.github.io/posts/19/2.png\"></li>\n</ol>\n<p>派一个claimer过去用<code>claimController</code>戳一下controller\n2. reserving 被预定\n<img src=\"/boboan.github.io/posts/19/3.png\"></p>\n<p>派一个claimer过去用<code>attackController</code>一直戳controller，直到可以claim为止\n3. 1级以上的controller 被占领的房间\n<img src=\"/boboan.github.io/posts/19/4.png\"></p>\n<p>这里有2种方案，一种是等自然降级，另一种是主动派一个claimer去加速降级\n因为attack的controller有1000cd，所以隔一段时间，派一个claimer过去用<code>attackController</code>戳一下controller，直到可以claim为止</p>\n<h3>InvaderCore</h3>\n<p><img src=\"/boboan.github.io/posts/19/5.png\"></p>\n<p>InvaderCore会刷在房间内的controller旁边reserve预定controller\n需要派1个带attack部件的creep去attack Core，同时派一个climer按照上面的逻辑去解除预定</p>\n<h3>敌方spawn</h3>\n<p><img src=\"/boboan.github.io/posts/19/6.png\">\n像这种经营不善，controller掉没了，就剩一个spawn了的房间，估计主人也不要了，我们就可以占领\ncontroller是可以直接claim，但是房间内要是存在spawn的话，你的spawn是没办法放下去的，所以要吧原主人的spawn拆掉，需要带有WORK的不见使用<strong>dismantle</strong>拆掉spawn</p>\n<h2>扩张流程</h2>\n<ol>\n<li>选址\n我觉得大家都会，挑好看的房就行了，最好双矿，别当着别人出去的路，别距离你出claimer的spawn太远600tick走的过去就好</li>\n<li>标记flag/寻路\n<img src=\"/boboan.github.io/posts/19/7.png\"></li>\n</ol>\n<p>flag是一个很好的人机交互用的标志，代码中可以判断flag代表你与你的代码交互了。比如你可以在你要扩张的房间上插一个棋子，代码判断出你的🚩，知道你要入侵，那么就执行入侵代码，比如说提前寻好路。\n寻路的话，使用<a href=\"https://screeps-cn.github.io/api/#PathFinder\">PathFinder</a>设计你生产creep的spawn到你要扩张的room间的路线，缓存挂在global上，给你扩张用的creep走路用\n3. 清除房间的障碍/占领房间\n按照【可能遇到的事件】中的解决方法去清除房间的障碍/占领房间\n4. 建造spawn\n放下<strong>建筑工地</strong>，带有WORK部件的creep在新房间就地采矿，修建spawn\n5. 完成扩张，清除你的flag与缓存\n在<strong>controller属于你，并且房间内存在你的spawn</strong>就认为你的扩张成功了，新房间已经可以按照你的逻辑运营了，但不要忘记清除你为了扩张生成的缓存垃圾</p>\n"},"allTags":["nextjs","remark","typescript","taro","webpack","loader","小程序插件","javascript","react","extention","github page","screeps","nodejs","闲的","canvas","promise","vue","Parcel","eggjs","extension"]},"__N_SSG":true}